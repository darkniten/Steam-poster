<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üéÆ Steam –°–∫–∏–¥–∫–∏</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #1e1e2f, #2c2c3c);
      color: #f0f0f0;
      display: flex;
      justify-content: center;
      overflow-x: hidden;
    }
    .container {
      max-width: 800px;
      width: 100%;
      background-color: rgba(44, 44, 60, 0.95);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    .toggle-row {
      display: flex;
      gap: 10px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    .toggle-button {
      flex: 1;
      padding: 10px;
      text-align: center;
      border-radius: 8px;
      cursor: pointer;
      background-color: #8b2b2b;
      font-weight: bold;
      transition: 0.3s;
      min-width: 200px;
      user-select: none;
    }
    .toggle-button.active {
      background-color: #2e8b57;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, textarea {
      padding: 10px;
      border: 1px solid #3a3a50;
      border-radius: 6px;
      font-size: 1em;
      width: 100%;
      box-sizing: border-box;
      margin-top: 5px;
      transition: all 0.3s ease;
      color: #000;
      background-color: #fff;
    }
    input:focus, textarea:focus {
      outline: none;
      box-shadow: 0 0 0 2px #4caf50;
      background-color: #34344a;
      color: #fff;
    }
    textarea {
      resize: vertical;
      min-height: 80px;
    }
    .input-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
      padding: 5px 10px;
      background-color: rgba(255,255,255,0.02);
      border-radius: 6px;
    }
    .input-row input[type="text"],
    .input-row input[type="number"] {
      flex: 1;
      min-width: 120px;
    }
    .input-row span {
      white-space: nowrap;
    }
    .disabled-input {
      background-color: #555 !important;
      color: #aaa !important;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #4caf50;
      border: none;
      color: white;
      font-size: 1em;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      user-select: none;
    }
    .action-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 20px;
      justify-content: center;
    }
    button:hover {
      transform: scale(1.03);
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
    }
    pre {
      background-color: #151522;
      padding: 15px;
      border-radius: 8px;
      white-space: pre-wrap;
      font-family: monospace;
      margin-top: 20px;
      max-height: 350px;
      overflow-y: auto;
    }
    .extraGameBlock {
      display: flex;
      flex-direction: column;
      gap: 5px;
      margin-top: 15px;
    }
    .extraGameInner {
      display: flex;
      gap: 10px;
    }
    .extraToggleButton {
      text-align: center;
      border-radius: 8px;
      padding: 8px;
      cursor: pointer;
      font-weight: bold;
      background-color: #8b2b2b;
      transition: 0.3s;
      margin-top: 5px;
      user-select: none;
    }
    .extraToggleButton.active {
      background-color: #2e8b57;
    }
    #regionButtons {
      display: none;
      margin-top: 10px;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .region-button {
      min-width: 90px;
      padding: 8px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
      background-color: #8b2b2b;
      color: white;
      transition: 0.3s;
      text-align: center;
    }
    .region-button.active {
      background-color: #2e8b57;
    }
    footer {
      text-align: center;
      margin-top: 30px;
      font-size: 0.9em;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üéÆ Steam –°–∫–∏–¥–∫–∏</h1>

    <label>üìÖ –ì–æ–¥ –∞–∫—Ü–∏–∏:</label>
    <input type="number" id="yearInput" placeholder="–ì–æ–¥ (–≥–≥–≥–≥)" />

    <label>üïπÔ∏è –ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã:</label>
    <input type="text" id="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã" />

    <label>üìù –û–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã:</label>
    <textarea id="description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã"></textarea>

    <label>üí• –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏:</label>
    <input type="number" id="discount" placeholder="–ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏" />

    <div class="toggle-row">
      <div id="btnBiggest" class="toggle-button" onclick="toggleButton('btnBiggest')">üìâ –°–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å–∫–∏–¥–∫–∞</div>
      <div id="btnFree" class="toggle-button" onclick="toggleFreeGame()">üéÅ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∏–≥—Ä–∞</div>
    </div>

    <div id="regionButtons">
      <div class="region-button" id="regionRub" onclick="toggleRegion('regionRub')">‚ÇΩ –†–£–ë</div>
      <div class="region-button" id="regionUah" onclick="toggleRegion('regionUah')">‚Ç¥ –ì–†–ù</div>
      <div class="region-button" id="regionEur" onclick="toggleRegion('regionEur')">‚Ç¨ –ï–í–†–û</div>
      <div class="region-button" id="regionKzt" onclick="toggleRegion('regionKzt')">‚Ç∏ –¢–ï–ù–ì–ï</div>
    </div>

    <label>üõí –¶–µ–Ω—ã:</label>
    <div class="input-row">
      <input type="text" id="rubBefore" placeholder="–¥–æ | —Ä—É–±" />
      <span>‚û°Ô∏è</span>
      <input type="text" id="rubAfter" placeholder="–ø–æ—Å–ª–µ | —Ä—É–±" />
    </div>
    <div class="input-row">
      <input type="text" id="uahBefore" placeholder="–¥–æ | –≥—Ä–Ω" />
      <span>‚û°Ô∏è</span>
      <input type="text" id="uahAfter" placeholder="–ø–æ—Å–ª–µ | –≥—Ä–Ω" />
    </div>
    <div class="input-row">
      <input type="text" id="eurBefore" placeholder="–¥–æ | –µ–≤—Ä–æ" />
      <span>‚û°Ô∏è</span>
      <input type="text" id="eurAfter" placeholder="–ø–æ—Å–ª–µ | –µ–≤—Ä–æ" />
    </div>
    <div class="input-row">
      <input type="text" id="kztBefore" placeholder="–¥–æ | —Ç–µ–Ω–≥–µ" />
      <span>‚û°Ô∏è</span>
      <input type="text" id="kztAfter" placeholder="–ø–æ—Å–ª–µ | —Ç–µ–Ω–≥–µ" />
    </div>

    <label>üìÜ –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–∫–∏–¥–∫–∏:</label>
    <input type="text" id="date" placeholder="–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (–¥–¥.–º–º)" />

    <label>üéÆ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–≥—Ä—ã –ø–æ –∞–∫—Ü–∏–∏:</label>
    <div id="extraGames"></div>

    <div class="action-buttons">
      <button onclick="generatePost()">–°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</button>
      <button onclick="copyToClipboard()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
      <button onclick="clearFields()">–û—á–∏—Å—Ç–∏—Ç—å</button>
      <button onclick="goBackToMain()">üîô –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
    </div>

    <pre id="output"></pre>
    <footer>¬© 2025 Steam Discount Generator</footer>
  </div>

  <script>
    const extraGames = document.getElementById('extraGames');
    for (let i = 0; i < 4; i++) {
      const block = document.createElement('div');
      block.className = 'extraGameBlock';

      const inner = document.createElement('div');
      inner.className = 'extraGameInner';

      const titleInput = document.createElement('input');
      titleInput.type = 'text';
      titleInput.className = 'extraTitle disabled-input';
      titleInput.placeholder = '–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã';
      titleInput.disabled = true;

      const discountInput = document.createElement('input');
      discountInput.type = 'text';
      discountInput.className = 'extraDiscount disabled-input';
      discountInput.placeholder = '%';
      discountInput.disabled = true;

      const toggle = document.createElement('div');
      toggle.className = 'extraToggleButton';
      toggle.innerText = '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å';
      toggle.onclick = () => {
        const isActive = toggle.classList.toggle('active');
        titleInput.disabled = !isActive;
        discountInput.disabled = !isActive;
        titleInput.classList.toggle('disabled-input', !isActive);
        discountInput.classList.toggle('disabled-input', !isActive);
      };

      inner.append(titleInput, discountInput);
      block.append(inner, toggle);
      extraGames.appendChild(block);
    }

    // –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –∏–≥—Ä—ã
    const regions = {
      regionRub: true,
      regionUah: false,
      regionEur: true,
      regionKzt: false
    };

    function toggleButton(id) {
      const btn = document.getElementById(id);
      btn.classList.toggle('active');
    }

    function toggleFreeGame() {
      toggleButton('btnFree');
      const active = document.getElementById('btnFree').classList.contains('active');
      const discount = document.getElementById('discount');
      discount.disabled = active;
      discount.style.backgroundColor = active ? '#5e2c2c' : '';
      const fields = ['rubBefore','rubAfter','uahBefore','uahAfter','eurBefore','eurAfter','kztBefore','kztAfter'];
      fields.forEach(id => {
        const el = document.getElementById(id);
        el.disabled = active;
        el.style.backgroundColor = active ? '#5e2c2c' : '';
      });

      const regionButtons = document.getElementById('regionButtons');
      if(active) {
        regionButtons.style.display = 'flex';
      } else {
        regionButtons.style.display = 'none';
        // —Å–±—Ä–æ—Å –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –≤ false –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
        Object.keys(regions).forEach(key => regions[key] = false);
        updateRegionButtons();
      }
    }

    function toggleRegion(id) {
      regions[id] = !regions[id];
      updateRegionButtons();
    }

    function updateRegionButtons() {
      Object.entries(regions).forEach(([id, active]) => {
        const btn = document.getElementById(id);
        if(active) btn.classList.add('active');
        else btn.classList.remove('active');
      });
    }

    function generatePost() {
      const year = document.getElementById('yearInput').value;
      const title = document.getElementById('title').value.trim();
      const desc = document.getElementById('description').value.trim();
      const discount = document.getElementById('discount').value.trim();
      const date = document.getElementById('date').value.trim();
      const isFree = document.getElementById('btnFree').classList.contains('active');
      const isBiggest = document.getElementById('btnBiggest').classList.contains('active');

      const rub = `${document.getElementById('rubBefore').value}‚ÇΩ ‚û°Ô∏è ${document.getElementById('rubAfter').value}‚ÇΩ`;
      const uah = `${document.getElementById('uahBefore').value}‚Ç¥ ‚û°Ô∏è ${document.getElementById('uahAfter').value}‚Ç¥`;
      const eur = `${document.getElementById('eurBefore').value}‚Ç¨ ‚û°Ô∏è ${document.getElementById('eurAfter').value}‚Ç¨`;
      const kzt = `${document.getElementById('kztBefore').value}‚Ç∏ ‚û°Ô∏è ${document.getElementById('kztAfter').value}‚Ç∏`;

      let priceBlock = '';
      if(isFree){
        // –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤
        const regionMarks = [];
        regionMarks.push(regions.regionRub ? '‚úÖ‚ÇΩ' : '‚ùå‚ÇΩ');
        regionMarks.push(regions.regionUah ? '‚úÖ‚Ç¥' : '‚ùå‚Ç¥');
        regionMarks.push(regions.regionEur ? '‚úÖ‚Ç¨' : '‚ùå‚Ç¨');
        regionMarks.push(regions.regionKzt ? '‚úÖ‚Ç∏' : '‚ùå‚Ç∏');

        priceBlock = `üí• –ò–≥—Ä–∞ —Å–µ–π—á–∞—Å **–ë–ï–°–ü–õ–ê–¢–ù–ê**\n${regionMarks.join('   ')}`;
      } else {
        priceBlock = `üí∏ **–°–ö–ò–î–ö–ê -${discount}%:**\n\`${rub}\`\n\`${uah}\`\n\`${eur}\`\n\`${kzt}\``;
      }

      let extras = [];
      document.querySelectorAll('.extraGameBlock').forEach(block => {
        const t = block.querySelector('.extraTitle').value.trim();
        const d = block.querySelector('.extraDiscount').value.trim();
        const isActive = !block.querySelector('.extraTitle').disabled;
        if (isActive && t && d) {
          extras.push(`${t} | -${d}%`);
        }
      });

      let post = `üéÆ \`${title}\`\n${desc}\n\n${priceBlock}\n\nüïí –ê–∫—Ü–∏—è –¥–æ: **${date}.${year}**`;
      if (isBiggest) post += '\n\nüìâ –°–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å–∫–∏–¥–∫–∞ –∑–∞ 2 –≥–æ–¥–∞!';
      if (extras.length) post += `\n\nüìå –¢–∞–∫–∂–µ –ø–æ –∞–∫—Ü–∏–∏:\n${extras.join('\n')}`;
      post += '\n\nüîó –û—Ç–∫—Ä—ã—Ç—å –≤ Steam\n\n‚≠êÔ∏è –ö–∞–Ω–∞–ª –æ —Å–∫–∏–¥–∫–∞—Ö: @steam_ed';

      document.getElementById('output').innerText = post;
    }

    function clearFields() {
      document.querySelectorAll('input, textarea').forEach(el => {
        if (!el.classList.contains('extraDiscount') && !el.classList.contains('extraTitle')) {
          el.value = '';
          el.disabled = false;
          el.style.backgroundColor = '';
        }
      });
      document.querySelectorAll('.toggle-button, .extraToggleButton').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.extraTitle, .extraDiscount').forEach(el => {
        el.value = '';
        el.disabled = true;
        el.classList.add('disabled-input');
      });
      // –°–±—Ä–æ—Å —Ä–µ–≥–∏–æ–Ω–æ–≤
      Object.keys(regions).forEach(key => regions[key] = false);
      updateRegionButtons();

      document.getElementById('output').innerText = '';
      document.getElementById('regionButtons').style.display = 'none';
    }

    function copyToClipboard() {
      const text = document.getElementById('output').innerText;
      if(!text){
        alert('–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–æ—Å—Ç!');
        return;
      }
      navigator.clipboard.writeText(text)
        .then(() => alert('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!'))
        .catch(() => alert('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è'));
    }

    function goBackToMain() {
      // –¢—É—Ç –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
      window.location.href = 'index.html';
    }
  </script>
</body>
</html>
